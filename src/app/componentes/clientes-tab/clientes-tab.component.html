
  <div class="spin" *ngIf="!done">
    <ion-spinner name="bubbles"></ion-spinner>
  </div>

  <div *ngIf="done">
    <ion-input type="text" #Filtro1  placeholder="Filtro por nombre..."  (keyup)="updateFilter($event)"></ion-input>
    <br>
    <ngx-datatable style="width: 100%; height: 75vh;" [scrollbarV]="true" class="material" [limit]="8" [rows]="rows" [rowHeight]="60"
      [scrollbarH]="true" [columnMode]="'force'" [sortType]="'multi'" [headerHeight]="50" [footerHeight]="50"
      [limit]="15">

      <ngx-datatable-column name="acciones" [cellClass]="'cell-datatable'" *ngIf="origen=='visita'">
        <ng-template ngx-datatable-header-template>
          <b>Seleccionar Cliente</b>
        </ng-template>
        <ng-template ngx-datatable-cell-template let-row="row">
          <div>
            <ion-button color="success" *ngIf="origen=='visita'" style="border-radius: 10px;" (click)="selectCliente(row)">
              <ion-icon name="checkmark-circle"></ion-icon>
            </ion-button>
            
          </div>
        </ng-template>
      </ngx-datatable-column>

      <ngx-datatable-column prop="nombre_cli" [cellClass]="'cell-datatable'">
        <ng-template ngx-datatable-header-template>
          <b>Nombre</b>
        </ng-template>
        <ng-template let-row="row" ngx-datatable-cell-template>
          {{row.nombre_cli}}
        </ng-template>
      </ngx-datatable-column>
      <ngx-datatable-column prop="name_cont_admin_cli" [sortable]="true" [cellClass]="'cell-datatable'">
        <ng-template ngx-datatable-header-template>
          <b>Contacto</b>
        </ng-template>
      </ngx-datatable-column>
      <ngx-datatable-column prop="f_creado" [sortable]="true" [cellClass]="'cell-datatable'">
        <ng-template ngx-datatable-header-template>
          <b>F Creado</b>
        </ng-template>
        <ng-template ngx-datatable-cell-template let-row="row">
          {{ row.f_creado.seconds * 1000 |date :'short' }}
        </ng-template>
      </ngx-datatable-column>
      <ngx-datatable-column prop="obras" [sortable]="true" [cellClass]="'cell-datatable'">
        <ng-template ngx-datatable-header-template>
          <b>Obras</b>
        </ng-template>
      </ngx-datatable-column>
      <ngx-datatable-column name="acciones" [cellClass]="'cell-datatable'" *ngIf="origen=='cliente'">
        <ng-template ngx-datatable-header-template>
          <b>Acciones</b>
        </ng-template>
        <ng-template ngx-datatable-cell-template let-row="row">
          <div>
            <ion-button color="primary" *ngIf="origen=='cliente'" style="border-radius: 10px;" (click)="goToEditCli(row)">
              <ion-icon name="create"></ion-icon>
            </ion-button>
            <ion-button color="primary" *ngIf="origen=='cliente'" style="border-radius: 10px;" (click)="goToObras(row)">
              <img src="assets/icon/build.png" width="20">
            </ion-button>    
          </div>
        </ng-template>
      </ngx-datatable-column>
    </ngx-datatable>
  </div>